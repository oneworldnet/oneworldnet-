<!DOCTYPE html>
<html lang="ar">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="refresh" content="0; url=admin-strikingly.html">
	<title>ØªØ­ÙˆÙŠÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</title>
</head>
<body>
	<p style="text-align:center;margin-top:80px;font-size:1.3em;">ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©...<br>
		<a href="admin-strikingly.html">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§</a>
	</p>
</body>
</html>
			background: #18120b !important;
		}
		.dark-mode .admin-nav button {background:#333;color:#fff;}
		.dark-mode .admin-nav button.active, .dark-mode .admin-nav button:hover {background:#FFD600;color:#18120b;}
		.dark-mode .stats-box {background:#263238;color:#FFD600;border-color:#FFD600;}
		.dark-mode .marquee {background:#263238;color:#FFD600;}
		/* Overlay ÙˆØ²Ø± Ø¹Ø§Ø¦Ù… Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ */
		.edit-overlay {
		  position: absolute;
		  top: 0; left: 0; right: 0; bottom: 0;
		<!-- Ù†Ø³Ø®Ø© Ù…Ù† old_public/admin.html Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø© -->
		<!-- ØªÙ… Ù†Ø³Ø® Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù„ØªÙƒÙˆÙ† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø© Ù‡ÙŠ Ù†ÙØ³Ù‡Ø§ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
		...existing code Ù…Ù† old_public/admin.html Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©...
					}
					await updateEmployees(employees);
					closeEmployeeModal();
					renderEmployees();
				}
				function editEmployee(idx) { openEmployeeModal(idx); }
				async function deleteEmployee(idx) { if(confirm('Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¸ÙØŸ')) { employees.splice(idx,1); await updateEmployees(employees); renderEmployees(); } }

				// --- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© (Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ù…Ø¹ backend) ---
				let blogPosts = [];
				async function renderBlog() {
					blogPosts = await fetchBlog();
					const list = document.getElementById('blogList');
					list.innerHTML = '';
					blogPosts.forEach((b, i) => {
						const card = document.createElement('div');
						card.className = 'item-card';
						card.innerHTML = `
							<b>${b.title}</b><br><span style='color:#888'>${b.desc}</span>
							<div class='actions'>
								<button class='edit' onclick='editBlog(${i})'><i class="fa fa-edit"></i></button>
								<button onclick='deleteBlog(${i})'><i class="fa fa-trash"></i></button>
							</div>
							<div class='edit-overlay'>
								<button class='edit-btn' onclick='editBlog(${i});event.stopPropagation();'>ØªØ¹Ø¯ÙŠÙ„</button>
								<button class='edit-btn' style='background:#e53935;color:#fff;' onclick='deleteBlog(${i});event.stopPropagation();'>Ø­Ø°Ù</button>
							</div>
						`;
						list.appendChild(card);
					});
				}
				function openBlogModal(editIdx) {
					document.getElementById('blogModalTitle').textContent = typeof editIdx==='number' ? 'ØªØ¹Ø¯ÙŠÙ„ ØªØ¯ÙˆÙŠÙ†Ø©' : 'Ø¥Ø¶Ø§ÙØ© ØªØ¯ÙˆÙŠÙ†Ø©';
					document.getElementById('blogTitleInput').value = '';
					document.getElementById('blogDescInput').value = '';
					document.getElementById('blogImageInput').value = '';
					if(typeof editIdx==='number') {
						document.getElementById('blogTitleInput').value = blogPosts[editIdx].title;
						document.getElementById('blogDescInput').value = blogPosts[editIdx].desc;
						document.getElementById('blogImageInput').value = blogPosts[editIdx].image;
						window._editingBlog = editIdx;
					} else {
						window._editingBlog = null;
					}
					document.getElementById('blogModal').style.display = 'flex';
				}
				function closeBlogModal() { document.getElementById('blogModal').style.display = 'none'; }
				async function saveBlog() {
					const title = document.getElementById('blogTitleInput').value.trim();
					const desc = document.getElementById('blogDescInput').value.trim();
					const image = document.getElementById('blogImageInput').value.trim();
					if(!title || !desc) return notify('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª','error');
					if(window._editingBlog!==null) {
						blogPosts[window._editingBlog] = {title, desc, image};
					} else {
						blogPosts.push({title, desc, image});
					<!DOCTYPE html>
					<html lang="ar" dir="rtl">
					<head>
						<meta charset="UTF-8">
						<meta name="viewport" content="width=device-width, initial-scale=1.0">
						<title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø´Ø¨ÙŠÙ‡Ø© Strikingly</title>
						<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
						<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
						<style>
							body { background: #f7f7fa; font-family: 'Cairo', Arial, sans-serif; margin: 0; }
							.dashboard-wrapper { display: flex; min-height: 100vh; }
							.sidebar {
								width: 220px;
								background: #fff;
								box-shadow: 2px 0 16px #0001;
								display: flex;
								flex-direction: column;
								align-items: center;
								padding: 32px 0 0 0;
							}
							.sidebar-logo {
								font-size: 2.2em;
								font-weight: bold;
								color: #FFD600;
								margin-bottom: 32px;
							}
							.sidebar nav ul { list-style: none; padding: 0; margin: 0; width: 100%; }
							.sidebar-link {
								width: 100%;
								padding: 14px 28px 14px 18px;
								color: #333;
								font-size: 1.1em;
								display: flex;
								align-items: center;
								gap: 12px;
								cursor: pointer;
								border-right: 4px solid transparent;
								transition: background 0.2s, border-color 0.2s, color 0.2s;
							}
							.sidebar-link.active, .sidebar-link:hover {
								background: #FFD60022;
								color: #FFD600;
								border-right: 4px solid #FFD600;
							}
							.main-content {
								flex: 1;
								padding: 48px 40px 32px 40px;
								background: #f7f7fa;
								min-height: 100vh;
							}
							.dashboard-section { background: #fff; border-radius: 18px; box-shadow: 0 2px 12px #0001; padding: 32px 24px; margin-bottom: 32px; }
							h2 { color: #18120b; margin-top: 0; }
							.section-title { color: #FFD600; font-size: 1.2em; margin-top: 32px; margin-bottom: 8px; border-bottom: 1.5px solid #FFD60055; padding-bottom: 4px; }
							.note { color: #FFA726; font-size: 0.95em; margin-bottom: 18px; }
						</style>
					</head>
					<body>
						<div class="dashboard-wrapper">
							<aside class="sidebar">
								<div class="sidebar-logo">ğŸŒ</div>
								<nav>
									<ul>
										<li class="sidebar-link active" data-section="dashboard"><i class="fa fa-chart-bar"></i> Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</li>
										<li class="sidebar-link" data-section="users"><i class="fa fa-users"></i> Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</li>
										<li class="sidebar-link" data-section="content"><i class="fa fa-file-alt"></i> Ø§Ù„Ù…Ø­ØªÙˆÙ‰</li>
										<li class="sidebar-link" data-section="partners"><i class="fa fa-handshake"></i> Ø§Ù„Ø´Ø±ÙƒØ§Ø¡</li>
										<li class="sidebar-link" data-section="stories"><i class="fa fa-star"></i> Ù‚ØµØµ Ø§Ù„Ù†Ø¬Ø§Ø­</li>
										<li class="sidebar-link" data-section="settings"><i class="fa fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</li>
										<li class="sidebar-link" data-section="logout"><i class="fa fa-sign-out-alt"></i> Ø®Ø±ÙˆØ¬</li>
									</ul>
								</nav>
							</aside>
							<main class="main-content">
								<div id="section-dashboard" class="dashboard-section"> 
									<h2>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h2>
									<div id="analyticsDashboard"></div>
								</div>
								<div id="section-users" class="dashboard-section" style="display:none;">
									<h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
									<div id="userRolesManager"></div>
								</div>
								<div id="section-content" class="dashboard-section" style="display:none;">
									<h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰</h2>
									<div id="aboutManager"></div>
									<div id="privacyManager"></div>
									<div id="faqManager"></div>
								</div>
								<div id="section-partners" class="dashboard-section" style="display:none;">
									<h2>Ø´Ø±ÙƒØ§Ø¡ Ø§Ù„Ø®ÙŠØ±</h2>
									<div id="partnersManager"></div>
								</div>
								<div id="section-stories" class="dashboard-section" style="display:none;">
									<h2>Ù‚ØµØµ Ø§Ù„Ù†Ø¬Ø§Ø­</h2>
									<div id="storiesManager"></div>
								</div>
								<div id="section-settings" class="dashboard-section" style="display:none;">
									<h2>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h2>
									<div id="accessibilityManager"></div>
									<div id="donateManager"></div>
									<div id="langManager"></div>
								</div>
							</main>
						</div>
						<script>
							// ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
							document.querySelectorAll('.sidebar-link').forEach(link => {
								link.addEventListener('click', function() {
									document.querySelectorAll('.sidebar-link').forEach(l => l.classList.remove('active'));
									this.classList.add('active');
									let section = this.getAttribute('data-section');
									document.querySelectorAll('.dashboard-section').forEach(sec => sec.style.display = 'none');
									if(section === 'logout') { /* Ù‡Ù†Ø§ ØªØ¶Ø¹ ÙƒÙˆØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ */ return; }
									document.getElementById('section-' + section).style.display = 'block';
								});
							});
							// Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
							document.querySelectorAll('.dashboard-section').forEach((sec,i)=>sec.style.display = i===0?'block':'none');
						</script>
					</body>
					</html>
					await updateBlog(blogPosts);
					closeBlogModal();
					renderBlog();
				}
				function editBlog(idx) { openBlogModal(idx); }
				async function deleteBlog(idx) { if(confirm('Ø­Ø°Ù Ø§Ù„ØªØ¯ÙˆÙŠÙ†Ø©ØŸ')) { blogPosts.splice(idx,1); await updateBlog(blogPosts); renderBlog(); } }

				// --- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ (Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ù…Ø¹ backend) ---
					<!-- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙˆØ±ÙŠØ© -->
					<!-- Font Awesome CDN Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ù…Ø¬Ø§Ù†ÙŠØ© ÙˆØ¹Ø§Ù„Ù…ÙŠØ© -->
					<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
					<div id="globalNotification" style="display:none;position:fixed;top:18px;left:50%;transform:translateX(-50%);background:#FFD600;color:#18120b;padding:12px 32px;border-radius:18px;font-weight:bold;z-index:9999;font-size:1.1em;box-shadow:none;min-width:220px;text-align:center;"></div>
					<!-- ÙˆØ§Ø¬Ù‡Ø© ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
					<div id="changePassModal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.55);z-index:9998;align-items:center;justify-content:center;">
						<div style="background:#18120b;padding:32px 24px;border-radius:18px;max-width:350px;margin:auto;">
							<h3 style="color:#FFD600;">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
							<input type="password" id="oldPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©" style="width:100%;margin-bottom:10px;">
							<input type="password" id="newPass1" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©" style="width:100%;margin-bottom:10px;">
							<input type="password" id="newPass2" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©" style="width:100%;margin-bottom:18px;">
							<button onclick="changePassword()" class="main-btn">ØªØºÙŠÙŠØ±</button>
							<button onclick="closeChangePass()" class="main-btn" style="background:#e53935;color:#fff;margin-right:8px;">Ø¥Ù„ØºØ§Ø¡</button>
							<div id="changePassMsg" style="color:#e53935;margin-top:10px;"></div>
						</div>
					</div>
					<!-- Ø²Ø± ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø£Ø¹Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
					<button id="changePassBtn" onclick="openChangePass()" style="position:fixed;top:18px;right:18px;z-index:9997;background:#FFD600;color:#18120b;border:none;border-radius:18px;padding:8px 18px;font-weight:bold;">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</button>
					<script>
					// Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±ÙŠ
					function notify(msg, type='info') {
						const n = document.getElementById('globalNotification');
						n.textContent = msg;
						n.style.background = type==='error' ? '#e53935' : (type==='success' ? '#43a047' : '#FFD600');
						n.style.color = type==='error' ? '#fff' : '#18120b';
						n.style.display = 'block';
						setTimeout(()=>{n.style.display='none';}, 2500);
					}
					// ... Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ old_public/admin.html Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ...
					</script>
					<!-- ... Ø¨Ù‚ÙŠØ© Ù…Ø­ØªÙˆÙ‰ old_public/admin.html Ø­ØªÙ‰ Ù†Ù‡Ø§ÙŠØ© </html> ... -->
						window._editingProject = editIdx;
